{% extends "base.html" %}
{% block content %}

<h2 class="fw-bold mb-3">RPG â€” Hub principal</h2>

<div class="row g-3">
  <!-- Panel izquierdo: stats del jugador -->
  <div class="col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="fw-bold mb-2">Tu personaje</h5>
        <p class="mb-1">Usuario: <strong>{{ request.user.username }}</strong></p>
        <p class="mb-1">Monedas: <strong>{{ profile.coins }}</strong></p>
        <hr>
        <p class="mb-1">Vida total: <strong>{{ stats.hp }}</strong></p>
        <p class="mb-1">Ataque: <strong>{{ stats.attack }}</strong></p>
        <p class="mb-1">Defensa: <strong>{{ stats.defense }}</strong></p>
        <p class="mb-1">CrÃ­tico: <strong>{{ stats.crit_chance }}%</strong></p>
        <p class="mb-1">Esquive: <strong>{{ stats.dodge_chance }}%</strong></p>
        <p class="mb-0">Velocidad: <strong>{{ stats.speed }}</strong></p>
      </div>
    </div>
  </div>

  <!-- Panel derecho: modos de juego -->
  <div class="col-lg-8">
    <div class="card shadow-sm h-100">
      <div class="card-body d-flex flex-column justify-content-between">

        <!-- PvE Torre -->
        <div>
          <h5 class="fw-bold mb-2">Modo PvE â€” Torre</h5>
          <p class="mb-1">
            Piso actual: <strong>{{ tower.current_floor }}</strong>
          </p>
          <p class="mb-3">
            MÃ¡ximo piso alcanzado: <strong>{{ tower.max_floor_reached }}</strong>
          </p>
        </div>

        <div class="d-flex flex-wrap gap-2 mt-2">
          <a href="{% url 'rpg_tower' %}" class="btn btn-primary rounded-pill">
            ğŸ—¼ Entrar a la torre
          </a>
          <a href="{% url 'rpg_inventory' %}" class="btn btn-outline-secondary rounded-pill">
            ğŸ’ Inventario
          </a>
          <a href="{% url 'rpg_shop' %}" class="btn btn-outline-secondary rounded-pill">
            ğŸ›’ Tienda
          </a>
          <a href="{% url 'rpg_gacha' %}" class="btn btn-outline-secondary rounded-pill">
            â­ Gacha
          </a>
          <a href="{% url 'rpg_trades' %}" class="btn btn-outline-secondary rounded-pill">
            ğŸ” Intercambios
          </a>
        </div>

        <hr class="my-3">

        <!-- PvP -->
        <div>
          <h5 class="fw-bold mb-2">Modo PvP â€” Arena</h5>
          <p class="text-muted mb-2" style="font-size: 0.9rem;">
            DesafÃ­a a jugadores con mejor clasificaciÃ³n, roba su puesto y reclama recompensas diarias.
          </p>
          <div class="d-flex flex-wrap gap-2">
            <a href="{% url 'rpg_pvp_arena' %}" class="btn btn-danger rounded-pill">
              âš”ï¸ Arena PvP
            </a>
            <a href="{% url 'rpg_pvp_leaderboard' %}" class="btn btn-outline-danger rounded-pill">
              ğŸ† Ranking PvP
            </a>
          </div>
        </div>

        <hr class="my-3">

        <!-- World Boss -->
        <div>
          <h5 class="fw-bold mb-2">World Boss â€” Evento global</h5>
          <p class="text-muted mb-2" style="font-size: 0.9rem;">
            Cada 3 horas se abre un ciclo donde todos los jugadores pueden unirse para
            atacar juntos a un jefe inmortal. El daÃ±o total realizado otorga monedas a
            todos los participantes.
          </p>
          <div class="d-flex flex-wrap gap-2">
            <a href="{% url 'rpg_world_boss' %}" class="btn btn-dark rounded-pill">
              ğŸ² Ir al World Boss
            </a>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

{% endblock %}
