{% extends 'base.html' %}
{% block content %}

<h2 class="fw-bold mb-3">Configuración de probabilidades del gacha</h2>
<p class="text-muted">
  Solo el superusuario puede ver esta página. Las probabilidades se expresan en porcentaje (%)
  y deben sumar exactamente 100.
</p>

<a href="{% url 'rpg_gacha' %}" class="btn btn-outline-secondary btn-sm rounded-pill mb-3">⬅ Volver al gacha</a>

<div class="card shadow-sm">
  <div class="card-body">
    <form method="post">
      {% csrf_token %}

      <div class="table-responsive">
        <table class="table align-middle">
          <thead>
            <tr>
              <th>Rareza</th>
              <th>Probabilidad (%)</th>
            </tr>
          </thead>
          <tbody>
            {% for row in rows %}
              <tr>
                <td>{{ row.label }}</td>
                <td style="max-width:160px;">
                  <input
                    type="number"
                    step="0.0001"
                    min="0"
                    class="form-control"
                    name="prob_{{ row.code }}"
                    value="{{ row.percent|floatformat:6 }}">
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <button class="btn btn-primary mt-2">Guardar cambios</button>
    </form>
  </div>
</div>

{% endblock %}
